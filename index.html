<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BrainBound - Learn & Play!</title>
    <link rel="stylesheet" href="style-advanced.css">
    <style>
        /* CRITICAL FIX: Force Activities Section to Display */
        .activities-section {
            display: block !important;
            visibility: visible !important;
            opacity: 1 !important;
            margin-top: 40px !important;
            margin-bottom: 40px !important;
        }
        
        .activities-title {
            display: block !important;
            text-align: center !important;
            font-size: 2rem !important;
            color: #F9FAFB !important;
            margin-bottom: 24px !important;
        }
        
        .activities-grid {
            display: grid !important;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)) !important;
            gap: 20px !important;
            margin-bottom: 30px !important;
        }
        
        .activity-btn {
            display: flex !important;
            flex-direction: column !important;
            align-items: center !important;
            justify-content: center !important;
            padding: 30px 20px !important;
            min-height: 150px !important;
            background: linear-gradient(135deg, rgba(37, 42, 72, 0.9) 0%, rgba(30, 33, 57, 0.9) 100%) !important;
            border: 2px solid rgba(99, 102, 241, 0.3) !important;
            border-radius: 16px !important;
            cursor: pointer !important;
            transition: all 0.3s ease !important;
            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.4) !important;
        }
        
        .activity-btn:hover {
            transform: translateY(-6px) !important;
            border-color: rgba(99, 102, 241, 0.8) !important;
            box-shadow: 0 8px 24px rgba(99, 102, 241, 0.3) !important;
        }
        
        .activity-icon {
            font-size: 3.5rem !important;
            display: block !important;
            line-height: 1 !important;
            margin-bottom: 10px !important;
        }
        
        .activity-label {
            font-size: 1.1rem !important;
            font-weight: 600 !important;
            color: #F9FAFB !important;
            display: block !important;
            text-align: center !important;
        }
    </style>
</head>
<body>
    <!-- Main Menu -->
    <div id="mainMenu" class="screen active">
            <!-- Header -->
            <header class="game-header">
                <div class="logo">
                    <h1>üß† BrainBound</h1>
                </div>
                <div class="player-stats">
                    <span class="xp-display">‚ö° <span id="playerXP">0</span> XP</span>
                    <span class="level-display">üéØ Level <span id="playerLevel">1</span></span>
                </div>
            </header>
            <div class="menu-content">
                <div class="mascot-intro">
                    <div class="mascot">ü¶â</div>
                    <p class="mascot-text">Hoot hoot! Ready to soar through some puzzles?</p>
                </div>
                <h2>Choose Your Adventure!</h2>
                
                <!-- Level Packs -->
                <div class="level-packs">
                    <button class="pack-button" data-pack="underwater" onclick="selectPackWithPreview('underwater')">
                        <span class="pack-icon">üåä</span>
                        <span class="pack-title">Underwater Adventure</span>
                        <span class="pack-info">20 Amazing Levels!</span>
                    </button>
                    <button class="pack-button" data-pack="space" onclick="selectPackWithPreview('space')">
                        <span class="pack-icon">üöÄ</span>
                        <span class="pack-title">Space Explorer</span>
                        <span class="pack-info">20 Cosmic Levels!</span>
                    </button>
                    <button class="pack-button" data-pack="jungle" onclick="selectPackWithPreview('jungle')">
                        <span class="pack-icon">ü¶Å</span>
                        <span class="pack-title">Jungle Safari</span>
                        <span class="pack-info">20 Wild Levels!</span>
                    </button>
                </div>
                
                <!-- Mini-Games & Activities -->
                <div class="activities-section" style="display: block !important; margin-top: 40px; margin-bottom: 40px;">
                    <h3 class="activities-title" style="text-align: center; font-size: 2rem; color: #F9FAFB; margin-bottom: 24px;">üéÆ Fun Activities</h3>
                    <div class="activities-grid" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin-bottom: 30px;">
                        <button onclick="window.open('mini-games.html', '_blank')" class="activity-btn activity-games" style="display: flex; flex-direction: column; align-items: center; justify-content: center; padding: 30px 20px; min-height: 150px; background: linear-gradient(135deg, rgba(37, 42, 72, 0.9) 0%, rgba(30, 33, 57, 0.9) 100%); border: 2px solid rgba(99, 102, 241, 0.3); border-radius: 16px; cursor: pointer; transition: all 0.3s ease; box-shadow: 0 4px 16px rgba(0, 0, 0, 0.4);">
                            <span class="activity-icon" style="font-size: 3.5rem; display: block; line-height: 1; margin-bottom: 10px;">üéÆ</span>
                            <span class="activity-label" style="font-size: 1.1rem; font-weight: 600; color: #F9FAFB; display: block; text-align: center;">Mini-Games</span>
                        </button>
                        <button onclick="window.open('safari-mode.html', '_blank')" class="activity-btn activity-safari" style="display: flex; flex-direction: column; align-items: center; justify-content: center; padding: 30px 20px; min-height: 150px; background: linear-gradient(135deg, rgba(37, 42, 72, 0.9) 0%, rgba(30, 33, 57, 0.9) 100%); border: 2px solid rgba(99, 102, 241, 0.3); border-radius: 16px; cursor: pointer; transition: all 0.3s ease; box-shadow: 0 4px 16px rgba(0, 0, 0, 0.4);">
                            <span class="activity-icon" style="font-size: 3.5rem; display: block; line-height: 1; margin-bottom: 10px;">üì∏</span>
                            <span class="activity-label" style="font-size: 1.1rem; font-weight: 600; color: #F9FAFB; display: block; text-align: center;">Safari Mode</span>
                        </button>
                        <button onclick="window.open('customize.html', '_blank')" class="activity-btn activity-custom" style="display: flex; flex-direction: column; align-items: center; justify-content: center; padding: 30px 20px; min-height: 150px; background: linear-gradient(135deg, rgba(37, 42, 72, 0.9) 0%, rgba(30, 33, 57, 0.9) 100%); border: 2px solid rgba(99, 102, 241, 0.3); border-radius: 16px; cursor: pointer; transition: all 0.3s ease; box-shadow: 0 4px 16px rgba(0, 0, 0, 0.4);">
                            <span class="activity-icon" style="font-size: 3.5rem; display: block; line-height: 1; margin-bottom: 10px;">üé®</span>
                            <span class="activity-label" style="font-size: 1.1rem; font-weight: 600; color: #F9FAFB; display: block; text-align: center;">Customize</span>
                        </button>
                    </div>
                </div>

                    
                    <!-- Debug Info -->
                    <!-- <div class="debug-panel">
                        <div class="debug-status">
                            <span class="debug-label">Game Status:</span>
                            <span id="loadStatus" class="debug-value">Loading...</span>
                        </div>
                        <div class="debug-status">
                            <span class="debug-label">AI Status:</span>
                            <span id="aiStatus" class="debug-value">Checking...</span>
                        </div>
                        <button onclick="checkGameStatus()" class="debug-btn">
                            üîç Check Status
                        </button>
                        <button onclick="testAI()" class="debug-btn" style="margin-top: 10px;">
                            ü§ñ Test AI
                        </button>
                    </div> -->
                </div>
            </div>
        </div>

        <!-- Level Select -->
        <div id="levelSelect" class="screen">
            <!-- Header -->
            <header class="game-header">
                <div class="logo">
                    <h1>üß† BrainBound</h1>
                </div>
                <div class="player-stats">
                    <span class="xp-display">‚ö° <span id="playerXP">0</span> XP</span>
                    <span class="level-display">üéØ Level <span id="playerLevel">1</span></span>
                </div>
            </header>
            
            <div class="level-select-content">
                <button class="back-button" onclick="showMainMenu()">
                    <span class="back-icon">‚Üê</span>
                    <span class="back-text">Back to Menu</span>
                </button>
                <h2 id="packTitle">Select a Level</h2>
                <div id="levelList" class="level-list"></div>
            </div>
        </div>

        <!-- Game Screen -->
        <div id="gameScreen" class="screen">
            <!-- Header -->
            <header class="game-header">
                <div class="logo">
                    <h1>üß† BrainBound</h1>
                </div>
                <div class="player-stats">
                    <span class="xp-display">‚ö° <span id="playerXP">0</span> XP</span>
                    <span class="level-display">üéØ Level <span id="playerLevel">1</span></span>
                </div>
            </header>
            
            <div class="game-screen-content">
                <div class="game-header-bar">
                    <button class="back-button" onclick="showLevelSelect()">
                        <span class="back-icon">‚Üê</span>
                        <span class="back-text">Back to Levels</span>
                    </button>
                    <h3 id="levelTitle">Level Title</h3>
                    <button class="hint-button" onclick="showHint()">üí° Hint</button>
                </div>
            
            <div class="story-section">
                <div class="character-dialogue">
                    <span class="character-avatar" id="characterAvatar">üßú‚Äç‚ôÄÔ∏è</span>
                    <p id="characterDialogue">Welcome to the level!</p>
                </div>
            </div>

            <div class="puzzle-container" id="puzzleContainer">
                <!-- Puzzle will be dynamically loaded here -->
            </div>

            <div class="game-controls">
                <button class="btn-primary" onclick="checkAnswer()">Check Answer ‚úì</button>
                <button class="btn-secondary" onclick="resetPuzzle()">Reset üîÑ</button>
            </div>
            </div>
        </div>

        <!-- Profile Screen -->
        <div id="profileScreen" class="screen">
            <button class="back-button" onclick="showMainMenu()">
                <span class="back-icon">‚Üê</span>
                <span class="back-text">Back to Menu</span>
            </button>
            <div class="profile-container">
                <div class="profile-header">
                    <div class="profile-avatar">üß†</div>
                    <h2>Brain Champion</h2>
                    <p class="profile-level">Level <span id="profileLevel">1</span></p>
                </div>
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon">‚ö°</div>
                        <div class="stat-value" id="totalXP">0</div>
                        <div class="stat-label">Total XP</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">üéØ</div>
                        <div class="stat-value" id="levelsCompleted">0</div>
                        <div class="stat-label">Levels Done</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">üèÜ</div>
                        <div class="stat-value" id="badgesEarned">0</div>
                        <div class="stat-label">Badges</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">üî•</div>
                        <div class="stat-value" id="currentStreak">0</div>
                        <div class="stat-label">Day Streak</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Settings Screen -->
        <div id="settingsScreen" class="screen">
            <button class="back-button" onclick="showMainMenu()">
                <span class="back-icon">‚Üê</span>
                <span class="back-text">Back to Menu</span>
            </button>
            <div class="settings-container">
                <h2>‚öôÔ∏è Settings</h2>
                <div class="settings-group">
                    <h3>üîä Audio</h3>
                    <div class="setting-item">
                        <label>Sound Effects</label>
                        <input type="checkbox" id="soundToggle" checked onchange="toggleSound()">
                    </div>
                    <div class="setting-item">
                        <label>Music</label>
                        <input type="checkbox" id="musicToggle" checked onchange="toggleMusic()">
                    </div>
                </div>
                <div class="settings-group">
                    <h3>üé® Display</h3>
                    <div class="setting-item">
                        <label>Dark Mode</label>
                        <input type="checkbox" id="darkModeToggle" onchange="toggleDarkMode()">
                    </div>
                </div>
                <button class="btn-primary" onclick="resetProgress()">Reset Progress</button>
            </div>
        </div>

        <!-- Hint Modal -->
        <div id="hintModal" class="modal">
            <div class="modal-content">
                <h3>üí° Hint</h3>
                <p id="hintText">Here's a helpful hint!</p>
                <button class="btn-secondary" onclick="closeHint()">Got it!</button>
            </div>
        </div>

        <!-- Notification Modal -->
        <div id="notificationModal" class="modal notification-modal">
            <div class="modal-content notification-content">
                <div class="notification-icon" id="notificationIcon">üéâ</div>
                <h3 id="notificationTitle">Success!</h3>
                <p id="notificationMessage">Great job!</p>
                <div class="notification-buttons" id="notificationButtons">
                    <button class="btn-primary" onclick="closeNotification()">OK</button>
                </div>
            </div>
        </div>

    <!-- ESSENTIAL SCRIPTS -->
    <script src="performance-boost.js"></script>
    <script src="ai-integration.js"></script>
    <script src="game-core.js"></script>
    <script src="mini-games-simple.js"></script>
    <script src="safari-customization-simple.js"></script>
    <script src="fun-activities.js"></script>
    
    <script>
        console.log('üéÆ BrainBound Game Loaded!');
        
        // Initialize Performance Boost
        if (typeof initPerformanceBoost === 'function') {
            initPerformanceBoost();
        }
        
        console.log('ü§ñ AI System ready');
        console.log('‚úÖ Core functions ready');
        console.log('‚úÖ Mini-games ready');
        console.log('‚úÖ Safari & Customization ready');
        
        // FAB Toggle Function
        function toggleFAB() {
            const fabContainer = document.getElementById('fabContainer');
            if (fabContainer) fabContainer.classList.toggle('active');
        }
        
        function closeFAB() {
            const fabContainer = document.getElementById('fabContainer');
            if (fabContainer) fabContainer.classList.remove('active');
        }
    </script>
</body>
</html>
